---
title: Using OpenTelemetry for JavaScript Development
seoTitle: Using OpenTelemetry for JavaScript Development
description: Explore how JavaScript opentelemetry enhances monitoring, tracking,
  and optimizing application performance in full-stack applications.
img: /img/resources/using-opentelemetry-for-javascript-development.png
alt: javascript opentelemetry
slug: javascript-opentelemetry-enhancement
authors:
  - openobserve-team
publishDate: 2024-10-01
tags:
  - OpenTelemetry
  - javascript
---
<p><span style="font-weight: 400;">Having logs in a structured format like JSON can make a world of difference when it comes to monitoring and observability. JSON is not just human-readable; it's also incredibly versatile, allowing easy parsing and analysis across various tools.&nbsp;</span></p>

<p><span style="font-weight: 400;">In this guide, we'll explore how to configure your OpenTelemetry Collector to output logs in JSON format, streamlining your log management process and making data easier to work with.</span></p>

<p><span style="font-weight: 400;">Whether you&rsquo;re managing complex microservices or looking to streamline your log analysis, configuring OpenTelemetry JSON logs can significantly enhance your workflow. This guide will walk you through the steps to format your logs in JSON, provide configuration examples, and demonstrate how tools like OpenObserve can further elevate your monitoring capabilities by efficiently storing and visualizing these JSON-formatted logs.</span></p>

<h2><span style="font-weight: 400;">Configure OpenTelemetry Collector for JSON Logs</span></h2>

<p><span style="font-weight: 400;">A highly effective approach to manage and analyze your telemetry data is to configure the OpenTelemetry Collector to output logs in JSON format. Utilizing the opentelemetry json format not only standardizes your logs but also enhances their processability and visualization across different platforms, particularly when integrating with tools like OpenObserve. JSON&rsquo;s structured format simplifies parsing, indexing, and querying, making your telemetry data more accessible and actionable.</span></p>

<h3><span style="font-weight: 400;">Step 1: Set Encoding to JSON</span></h3>

<p><span style="font-weight: 400;">The first step in this process is to configure the telemetry logs to use JSON encoding.&nbsp;</span></p>

<p><span style="font-weight: 400;">This ensures that all logs generated by the OpenTelemetry Collector are structured in a consistent, easy-to-parse format.</span></p>

<h3><span style="font-weight: 400;">Step 2: Configuration Snippet</span></h3>

<p><span style="font-weight: 400;">Here&rsquo;s a simple configuration snippet that you can use to set the log encoding to JSON:</span></p>

<table>

<tbody>

<tr>

<td>

<p><span style="font-weight: 400;">receivers:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; otlp:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; protocols:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; &nbsp; grpc:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">exporters:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; logging:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; loglevel: </span><span style="font-weight: 400;">debug</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; encoding: </span><span style="font-weight: 400;">json</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">service:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; pipelines:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; logs:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; &nbsp; receivers: </span><span style="font-weight: 400;">\[otlp]</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; &nbsp; exporters: </span><span style="font-weight: 400;">\[logging]</span></p>

</td>

</tr>

</tbody>

</table>

<p><span style="font-weight: 400;">In this configuration:</span></p>

<ul>

<li style="font-weight: 400;"><strong>Receivers</strong><span style="font-weight: 400;"> define the input sources.</span></li>

<li style="font-weight: 400;"><strong>Exporters</strong><span style="font-weight: 400;"> determine how and where the logs are sent out.</span></li>

<li style="font-weight: 400;"><span style="font-weight: 400;">The </span><span style="font-weight: 400;">encoding: json</span><span style="font-weight: 400;"> setting ensures that the logs are output in JSON format.</span></li>

</ul>

<h3><span style="font-weight: 400;">Step 3: Reference Documentation</span></h3>

<p><span style="font-weight: 400;">For more advanced configurations and a deeper understanding of all available options, refer to the official </span><a href="https://opentelemetry.io/docs/"><span style="font-weight: 400;">OpenTelemetry documentation</span></a><span style="font-weight: 400;">.&nbsp;</span></p>

<p><span style="font-weight: 400;">This will help you tailor the setup to meet your specific needs.</span></p>

<h3><span style="font-weight: 400;">Integrating OpenTelemetry JSON Logs with OpenObserve</span></h3>

<p><span style="font-weight: 400;">OpenObserve can revolutionize how you handle JSON-formatted logs. By using It as the backend for your OpenTelemetry setup, you gain access to powerful storage, querying, and visualization capabilities.&nbsp;</span></p>

<p><span style="font-weight: 400;">The straightforward integration can significantly enhance your ability to monitor and analyze your telemetry data. Explore more on our</span><a href="https://openobserve.ai/"> <strong>website</strong></a><span style="font-weight: 400;"> or dive into our</span><a href="https://github.com/openobserve"> <strong>GitHub repository</strong></a><span style="font-weight: 400;"> for detailed insights and resources.</span></p>

<p><span style="font-weight: 400;">With OpenObserve, the JSON logs you configure in OpenTelemetry can be stored efficiently, indexed for fast retrieval, and visualized in customizable dashboards. This integration offers more profound insights and comprehensive analysis, making your observability stack more robust.</span></p>

<p><span style="font-weight: 400;">Next, let&rsquo;s look at an example configuration to see this setup in action.</span></p>

<p><strong>Read more on </strong><a href="https://openobserve.ai/resources/otel-use-cases"><strong>How OpenTelemetry Works and Its Use Cases</strong></a><strong>.&nbsp;</strong></p>

<h2><span style="font-weight: 400;">Example Configuration</span></h2>

<p><span style="font-weight: 400;">Setting up the OpenTelemetry Collector to process logs in the JSON format requires careful configuration of each component to prevent data loss or misconfiguration. Properly implementing the OpenTelemetry JSON settings is key to maintaining the integrity and usability of your telemetry data.</span></p>

<p><span style="font-weight: 400;">Below, we&rsquo;ll walk through a basic configuration that defines receivers, sets up exporters with appropriate log-level settings, and configures service pipelines to handle both metrics and traces.&nbsp;</span></p>

<p><span style="font-weight: 400;">We&rsquo;ll also cover how to configure OpenObserve as a destination for these logs.</span></p>

<h3><span style="font-weight: 400;">Step 1: Define Receivers</span></h3>

<p><span style="font-weight: 400;">First, you need to define the receivers in your configuration. Receivers are responsible for receiving data from different sources, such as applications or other telemetry sources. Here&rsquo;s an example using the OpenTelemetry Protocol (OTLP) with an endpoint:</span></p>

<table>

<tbody>

<tr>

<td>

<p><span style="font-weight: 400;">receivers:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; otlp:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; protocols:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; &nbsp; grpc:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; &nbsp; http:</span></p>

</td>

</tr>

</tbody>

</table>

<p><span style="font-weight: 400;">This configuration enables both gRPC and HTTP protocols for the OTLP receiver.</span></p>

<h3><span style="font-weight: 400;">Step 2: Set Up Exporters with Log-Level Settings</span></h3>

<p><span style="font-weight: 400;">Next, configure the exporters. Exporters determine where the collected telemetry data will be sent. In this case, you will set up the exporter to send logs to OpenObserve and ensure that logs are formatted as JSON:</span></p>

<table>

<tbody>

<tr>

<td>

<p><span style="font-weight: 400;">exporters:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; logging:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; loglevel: </span><span style="font-weight: 400;">debug</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; encoding: </span><span style="font-weight: 400;">json</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; </span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; openobserve:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; endpoint: </span><span style="font-weight: 400;">"https://your-openobserve-endpoint/api/v1/logs"</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; api_key: </span><span style="font-weight: 400;">"your-api-key"</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; encoding: </span><span style="font-weight: 400;">json</span></p>

</td>

</tr>

</tbody>

</table>

<p><span style="font-weight: 400;">Here, we&rsquo;ve added an exporter specifically for OpenObserve, ensuring that logs are encoded in JSON format.</span></p>

<h3><span style="font-weight: 400;">Step 3: Configure Service Pipelines</span></h3>

<p><span style="font-weight: 400;">Service pipelines define the flow of data from receivers to exporters. You&rsquo;ll want to set up separate pipelines for metrics and traces:</span></p>

<table>

<tbody>

<tr>

<td>

<p><span style="font-weight: 400;">service:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; pipelines:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; logs:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; &nbsp; receivers: </span><span style="font-weight: 400;">\[otlp]</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; &nbsp; exporters: </span><span style="font-weight: 400;">[logging,</span> <span style="font-weight: 400;">openobserve]</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; metrics:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; &nbsp; receivers: </span><span style="font-weight: 400;">\[otlp]</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; &nbsp; exporters: </span><span style="font-weight: 400;">\[openobserve]</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; traces:</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; &nbsp; receivers: </span><span style="font-weight: 400;">\[otlp]</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; &nbsp; exporters: </span><span style="font-weight: 400;">\[openobserve]</span></p>

</td>

</tr>

</tbody>

</table>

<p><span style="font-weight: 400;">This configuration ensures that logs, metrics, and traces are all handled appropriately and sent to OpenObserve.</span></p>

<h3><span style="font-weight: 400;">Step 4: Specify Telemetry Logs Encoding as JSON</span></h3>

<p><span style="font-weight: 400;">To ensure that your logs are encoded in JSON, make sure the </span><span style="font-weight: 400;">encoding: json</span><span style="font-weight: 400;"> setting is present in your exporter configuration, as shown in the previous step.</span></p>

<h3><span style="font-weight: 400;">Step 5: Running the Configuration</span></h3>

<p><span style="font-weight: 400;">Once your configuration file is ready, you can run the OpenTelemetry Collector with the following command:</span></p>

<table>

<tbody>

<tr>

<td>

<p><span style="font-weight: 400;">otelcol --config=config.yaml</span></p>

</td>

</tr>

</tbody>

</table>

<p><span style="font-weight: 400;">This command starts the OpenTelemetry Collector using your configuration file.</span></p>

<p><span style="font-weight: 400;">After configuring and running the OpenTelemetry Collector, it's crucial to ensure that your JSON logs are being correctly ingested by OpenObserve. With OpenObserve set as your destination, these logs will be stored, indexed, and accessible via OpenObserve&rsquo;s intuitive dashboard.&nbsp;</span></p>

<p><span style="font-weight: 400;">Here, you can query, visualize, and analyze the logs in real-time, making it easy to spot any issues in the logging pipeline and monitor system performance.</span></p>

<p><span style="font-weight: 400;">This integration allows you to utilize OpenObserve&rsquo;s advanced querying features to validate that the log data is accurately formatted in JSON. Whether through real-time dashboards or custom queries, OpenObserve provides immediate insights into your system&rsquo;s health, ensuring that your observability stack is functioning optimally.&nbsp;</span></p>

<p><span style="font-weight: 400;">Explore more on our</span><a href="https://openobserve.ai/"> <strong>website</strong></a><span style="font-weight: 400;"> or dive into our</span><a href="https://github.com/openobserve"> <strong>GitHub repository</strong></a><span style="font-weight: 400;"> for detailed insights and resources.</span></p>

<p><span style="font-weight: 400;">By integrating OpenTelemetry with OpenObserve, you&rsquo;re enhancing your observability stack, making it easier to capture, store, and analyze telemetry data in JSON format.</span></p>

<p><strong>Read more on </strong><a href="https://openobserve.ai/resources/observability-dashboards"><strong>Unifying Observability and Troubleshooting: The Power of Observability Dashboards</strong></a><strong>.&nbsp;</strong></p>

<h2><span style="font-weight: 400;">Sample Output</span></h2>

<p><span style="font-weight: 400;">One key outcome of working with the OpenTelemetry Collector is generating logs in JSON format. This format is handy because it structures data in a way that is both machine-readable and easy to parse.&nbsp;</span></p>

<p><span style="font-weight: 400;">Below, we'll examine the typical format of these output logs and provide some sample JSON entries.</span></p>

<h3><span style="font-weight: 400;">Format of JSON Output Logs</span></h3>

<p><span style="font-weight: 400;">The logs generated by OpenTelemetry in JSON format include key-value pairs that represent various attributes of the telemetry data, such as timestamps, log levels, and specific events.&nbsp;</span></p>

<p><span style="font-weight: 400;">Here&rsquo;s a simple example of what a JSON-formatted log might look like:</span></p>

<table>

<tbody>

<tr>

<td>

<p><span style="font-weight: 400;">{</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; "timestamp": </span><span style="font-weight: 400;">"2024-08-30T14:23:45Z"</span><span style="font-weight: 400;">,</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; "logLevel": </span><span style="font-weight: 400;">"INFO"</span><span style="font-weight: 400;">,</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; "serviceName": </span><span style="font-weight: 400;">"example-service"</span><span style="font-weight: 400;">,</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; "message": </span><span style="font-weight: 400;">"User login successful"</span><span style="font-weight: 400;">,</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; "attributes": {</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; "userId": </span><span style="font-weight: 400;">"12345"</span><span style="font-weight: 400;">,</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; "region": </span><span style="font-weight: 400;">"us-west-2"</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; }</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">}</span></p>

</td>

</tr>

</tbody>

</table>

<p><span style="font-weight: 400;">This structure ensures that each log entry contains all the necessary information, making it easy to filter, search, and analyze logs based on various criteria.</span></p>

<h3><span style="font-weight: 400;">Sample Log Entries in JSON Format</span></h3>

<p><span style="font-weight: 400;">Here&rsquo;s another example of a more detailed log entry:</span></p>

<table>

<tbody>

<tr>

<td>

<p><span style="font-weight: 400;">{</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; "timestamp": </span><span style="font-weight: 400;">"2024-08-30T15:35:21Z"</span><span style="font-weight: 400;">,</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; "logLevel": </span><span style="font-weight: 400;">"ERROR"</span><span style="font-weight: 400;">,</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; "serviceName": </span><span style="font-weight: 400;">"auth-service"</span><span style="font-weight: 400;">,</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; "message": </span><span style="font-weight: 400;">"Failed to authenticate user"</span><span style="font-weight: 400;">,</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; "attributes": {</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; "userId": </span><span style="font-weight: 400;">"67890"</span><span style="font-weight: 400;">,</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; "error": </span><span style="font-weight: 400;">"Invalid credentials"</span><span style="font-weight: 400;">,</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; &nbsp; "region": </span><span style="font-weight: 400;">"eu-central-1"</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">&nbsp; }</span><span style="font-weight: 400;"><br /></span><span style="font-weight: 400;">}</span></p>

</td>

</tr>

</tbody>

</table>

<p><span style="font-weight: 400;">This example highlights how JSON logs can capture not only the occurrence of an event but also additional contextual data, such as user information and the specific error encountered.</span></p>

<h3><span style="font-weight: 400;">Viewing Logs in OpenObserve</span></h3>

<p><span style="font-weight: 400;">To maximize the use of these JSON logs, </span><strong>OpenObserve</strong><span style="font-weight: 400;"> provides an intuitive interface for viewing and managing them.&nbsp;</span></p>

<p><span style="font-weight: 400;">Integrating OpenTelemetry with OpenObserve allows you to easily ingest and visualize these logs in a structured and searchable format. OpenObserve&rsquo;s dashboard allows you to filter logs based on any attribute, enabling rapid troubleshooting and deeper analysis.</span></p>

<p><span style="font-weight: 400;">Explore more on our</span><a href="https://openobserve.ai/"> <strong>website</strong></a><span style="font-weight: 400;"> or dive into our</span><a href="https://github.com/openobserve"> <strong>GitHub repository</strong></a><span style="font-weight: 400;"> for detailed insights and resources.</span></p>

<p><span style="font-weight: 400;">Use OpenObserve&rsquo;s real-time dashboard and advanced querying features to validate your JSON logs. This approach ensures that your logs are not only correctly formatted but also easily accessible for operational and debugging purposes.</span></p>

<p><strong>Read more on </strong><a href="https://openobserve.ai/resources/observability-platforms"><strong>Top 10 Observability Tools for 2024</strong></a><strong>.&nbsp;</strong></p>

<h3><span style="font-weight: 400;">Common Settings and Considerations</span></h3>

<p><span style="font-weight: 400;">When setting up the OpenTelemetry Collector to output logs in JSON format, it's crucial to understand the common settings and considerations involved in the OpenTelemetry JSON configuration.</span></p>

<h3><span style="font-weight: 400;">Deprecated Components and Settings</span></h3>

<p><span style="font-weight: 400;">Certain components and settings within OpenTelemetry may become deprecated over time. These deprecated elements can create challenges when setting up your telemetry pipeline, especially if you rely on older configurations that may no longer be supported.</span></p>

<p><span style="font-weight: 400;">For example, if you&rsquo;re using outdated log exporters or receivers, you might encounter compatibility issues that could disrupt your telemetry data flow. You should regularly check the OpenTelemetry documentation for any deprecated features and update your configurations accordingly.</span></p>

<p><strong>Recommendation:</strong><span style="font-weight: 400;"> OpenObserve is well-equipped to handle JSON-formatted logs, even when dealing with deprecated components. By utilizing OpenObserve&rsquo;s robust support for JSON logs, you can mitigate potential issues that arise from outdated settings.&nbsp;</span></p>

<p><span style="font-weight: 400;">It&rsquo;s advisable to configure OpenTelemetry in a way that maximizes compatibility with OpenObserve, ensuring a smooth transition as you update your telemetry stack.</span></p>

<h3><span style="font-weight: 400;">Default Settings and Their Implications</span></h3>

<p><span style="font-weight: 400;">OpenTelemetry has default settings that govern how logs are collected, processed, and exported. While these defaults are designed to work out of the box, they may not always align with your specific needs, mainly when dealing with JSON-formatted logs.</span></p>

<p><span style="font-weight: 400;">For instance, the default log encoding might not be set to JSON, which could require additional configuration steps. Moreover, default buffer sizes and retry mechanisms may impact the performance of your logging pipeline, especially under high load conditions.</span></p>

<p><strong>Recommendation:</strong><span style="font-weight: 400;"> When integrating with OpenObserve, it&rsquo;s beneficial to review and customize these default settings to optimize performance and ensure that your logs are efficiently processed and stored.&nbsp;</span></p>

<p><span style="font-weight: 400;">OpenObserve&rsquo;s ability to handle various log configurations allows you to tailor your telemetry pipeline to meet your specific requirements, ensuring that your JSON logs are ingested and visualized effectively.</span></p>

<h2><span style="font-weight: 400;">Conclusion</span></h2>

<p><span style="font-weight: 400;">Configuring OpenTelemetry to output logs in JSON format strengthens your observability stack. By adhering to this blog's guidelines and best practices, you ensure that your OpenTelemetry JSON data is accurately captured, stored, and analyzed for better insights.</span></p>

<p><span style="font-weight: 400;">Integrating with OpenObserve further amplifies these capabilities, offering robust support for JSON logs and providing advanced querying and visualization tools that make monitoring and debugging more efficient.</span></p>

<p><span style="font-weight: 400;">Whether you&rsquo;re troubleshooting an issue or simply optimizing your system's performance, the combination of OpenTelemetry and OpenObserve offers a comprehensive solution for managing and analyzing telemetry data.</span></p>

<p><span style="font-weight: 400;">Ready to take your observability to the next level?</span><a href="https://openobserve.ai/"><span style="font-weight: 400;">&nbsp;</span></a></p>

<p><a href="https://openobserve.ai/"><strong>Sign up for OpenObserve</strong></a> <span style="font-weight: 400;">today, visit our</span><a href="https://openobserve.ai/"> <span style="font-weight: 400;">website</span></a><span style="font-weight: 400;"> for more details, or check out our</span><a href="https://github.com/openobserve"> <span style="font-weight: 400;">GitHub repository</span></a><span style="font-weight: 400;"> to explore more resources and join the community!</span></p>
